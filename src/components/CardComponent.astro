---
// TODO: implementar l√≥gica de tarjeta
export interface Props {
	title: string;
	value: string | number;
	description?: string;
	icon?: string;
	color?: 'blue' | 'green' | 'red' | 'yellow' | 'purple' | 'orange';
	trend?: {
		value: number;
		isPositive: boolean;
	};
}

const { title, value, description, icon, color = 'blue', trend } = Astro.props;

const colorClasses = {
	blue: {
		bg: 'bg-blue-100 dark:bg-blue-800',
		text: 'text-blue-600 dark:text-blue-200',
		icon: 'text-blue-500 dark:text-blue-200'
	},
	green: {
		bg: 'bg-green-100 dark:bg-green-800',
		text: 'text-green-600 dark:text-green-200',
		icon: 'text-green-500 dark:text-green-200'
	},
	red: {
		bg: 'bg-red-100 dark:bg-red-800',
		text: 'text-red-600 dark:text-red-200',
		icon: 'text-red-500 dark:text-red-200'
	},
	yellow: {
		bg: 'bg-yellow-100 dark:bg-yellow-800',
		text: 'text-yellow-600 dark:text-yellow-200',
		icon: 'text-yellow-500 dark:text-yellow-200'
	},
	purple: {
		bg: 'bg-purple-100 dark:bg-purple-800',
		text: 'text-purple-600 dark:text-purple-200',
		icon: 'text-purple-500 dark:text-purple-200'
	},
	orange: {
		bg: 'bg-orange-100 dark:bg-orange-800',
		text: 'text-orange-600 dark:text-orange-200',
		icon: 'text-orange-500 dark:text-orange-200'
	}
};

const currentColor = colorClasses[color];
---

<div class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 dark:bg-gray-800">
	<div class="flex items-center">
		{icon && (
			<div class={`inline-flex items-center justify-center flex-shrink-0 w-8 h-8 ${currentColor.bg} ${currentColor.icon} rounded-lg`}>
				<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
					<path d={icon}></path>
				</svg>
			</div>
		)}
		<div class="ml-4">
			<span class="text-2xl font-bold leading-none text-gray-900 dark:text-white">
				{value}
			</span>
			<p class="text-base font-normal text-gray-600 dark:text-gray-400">
				{title}
			</p>
			{description && (
				<p class="text-sm text-gray-500 dark:text-gray-400">
					{description}
				</p>
			)}
			{trend && (
				<div class="flex items-center mt-1">
					<svg class={`w-4 h-4 ${trend.isPositive ? 'text-green-500' : 'text-red-500'}`} fill="currentColor" viewBox="0 0 20 20">
						<path fill-rule="evenodd" d={trend.isPositive ? "M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L12 8.586z" : "M12 13a1 1 0 110 2h5a1 1 0 001-1v-5a1 1 0 10-2 0v2.586l-4.293-4.293a1 1 0 00-1.414 0L8 9.586l-4.293-4.293a1 1 0 00-1.414 1.414l5 5a1 1 0 001.414 0L12 11.414z"} clip-rule="evenodd"></path>
					</svg>
					<span class={`text-sm font-medium ${trend.isPositive ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`}>
						{trend.value}%
					</span>
				</div>
			)}
		</div>
	</div>
</div> 